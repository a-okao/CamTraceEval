# カメラ＋マーカー手先軌道評価システム 設定例
camera:
  device_id: 0
  frame_width: 640
  frame_height: 480
  window_name: "LiveView"
  start_key: "s"   # 計測開始キー
  stop_key: "e"    # 計測終了キー
  quit_key: "q"    # 中断キー
  calibrate_key: "c"  # キャリブレーションモード開始キー（2点クリックで100mm指定）
  color_calibrate_key: "k" # 色キャリブレーションモード開始キー

marker:
  # 青色マーカー用HSV範囲。他色に変える場合は hsv_ranges を編集。
  hsv_ranges:
    - lower: [105, 130, 130]
      upper: [135, 255, 255]
  # 旧形式の単一区間を使う場合はこちらを指定（hsv_ranges を削除）
  hsv_lower: [105, 130, 130]
  hsv_upper: [135, 255, 255]
  min_area: 15                # ノイズ除去用の面積閾値
  blur_kernel: 5              # ガウシアンぼかし (奇数)
  morph_kernel: 5             # モルフォロジー処理カーネル (奇数)

calibration:
  model: "scale_offset"       # "scale_offset" または "homography"
  scale_offset:
    scale_x_mm_per_px: 0.25   # 例: 1px あたり 0.25 mm
    scale_y_mm_per_px: 0.25
    offset_x_mm: 0.0
    offset_y_mm: 0.0
  homography:
    matrix: [
      [1.0, 0.0, 0.0],
      [0.0, 1.0, 0.0],
      [0.0, 0.0, 1.0]
    ]
  two_point_length_mm: 100.0   # キャリブレーション用にクリックする直線長さ

trajectory:
  line:
    p0: [0.0, 0.0]
    p1: [100.0, 0.0]  # 100 mm 直線
  circle:
    center: [50.0, 0.0]
    radius: 40.0      # 直径 80 mm
  ideal_plot_samples: 360

output:
  base_dir: "outputs"
  label: "before"    # "before" / "after" など任意

display:
  draw_marker_radius: 8
  font_scale: 0.5
  text_color: [255, 0, 0]
